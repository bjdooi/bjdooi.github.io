{"version":3,"sources":["webpack:///./src/components/checkout-form/checkoutForm.css.js","webpack:///./src/components/checkout-form/checkoutForm.js","webpack:///./src/pages/invoice.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/react-stripe-elements/es/components/Elements.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/react-stripe-elements/es/components/Provider.js","webpack:///./node_modules/react-stripe-elements/es/index.js","webpack:///./node_modules/react-stripe-elements/es/components/inject.js","webpack:///./node_modules/react-stripe-elements/es/components/Element.js","webpack:///./node_modules/react-stripe-elements/es/utils/isEqual.js","webpack:///./node_modules/react-stripe-elements/es/components/PaymentRequestButtonElement.js","webpack:///./node_modules/react-stripe-elements/es/utils/shallowEqual.js"],"names":["Wrapper","styled","div","accent","CheckoutForm","props","handleInput","evt","target","value","name","setState","paymentStatus","state","receipt_email","date","amount","description","isLoading","card","submit","bind","ev","a","this","stripe","createToken","token","fetch","process","method","headers","Headers","body","JSON","stringify","then","response","ok","console","log","catch","err","render","padding","isDisabled","className","type","placeholder","onChange","style","base","fontSize","color","letterSpacing","fontFamily","invalid","onClick","disabled","Component","injectStripe","StripeWrapper","children","useState","setStripe","useEffect","window","Stripe","document","querySelector","onload","query","Invoice","data","pageTitle","invoiceJson","title","runtime","exports","undefined","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","GenStateSuspendedStart","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","GenStateSuspendedYield","makeInvokeMethod","fn","obj","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","Promise","resolve","reject","invoke","result","__await","unwrapped","error","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","toString","keys","object","key","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","Function","defineProperty","elementContextTypes","injectContextTypes","_extends","assign","arguments","source","_react2","_interopRequireDefault","_propTypes2","_Provider","__esModule","_objectWithoutProperties","indexOf","_toConsumableArray","arr","Array","isArray","arr2","from","getRegisteredElements","func","isRequired","elements","addElementsLoadListener","registerElement","unregisterElement","Elements","_React$Component","instance","Constructor","_classCallCheck","_this","ReferenceError","_possibleConstructorReturn","_elements","handleRegisterElement","element","impliedTokenType","impliedSourceType","impliedPaymentMethodType","prevState","registeredElements","concat","handleUnregisterElement","el","filter","_ref","_this$props","options","tag","subClass","superClass","enumerable","writable","configurable","_inherits","getChildContext","_this2","addStripeLoadListener","_props","Children","only","childContextTypes","contextTypes","providerContextTypes","defaultProps","string","getOrCreateStripe","apiKey","__cachedInstances","cacheKey","ensureStripeShape","createSource","createPaymentMethod","handleCardPayment","Provider","_apiKey","_meta","_didWarn","_didWakeUpListeners","_listeners","componentDidUpdate","prevProps","apiKeyChanged","stripeInstanceChanged","_stripe2","propTypes","node","IdealBankElement","IbanElement","PaymentRequestButtonElement","CardCVCElement","CardCvcElement","CardExpiryElement","CardNumberElement","CardElement","StripeProvider","_Provider2","_inject2","_Elements2","_Element2","_PaymentRequestButtonElement2","_typeof","_react","_Elements","WrappedComponent","_class","_temp","componentOptions","_componentOptions$wit","withRef","parseElementOrData","elementOrOptions","_frame","id","_componentName","findElement","filterBy","specifiedType","filteredElements","e","matchingElements","requireElement","wrappedCreateToken","tokenTypeOrOptions","opts","tokenType","rest","_tokenType","wrappedCreateSource","wrappedCreatePaymentMethod","paymentMethodType","elementOrData","maybeData","elementOrDataResult","_element","wrappedHandleCardX","clientSecret","_element2","stripeProps","componentDidMount","getWrappedInstance","wrappedInstance","handleCardSetup","_this3","createElement","ref","c","_isEqual2","noop","_extractOptions","onFocus","onBlur","onReady","capitalized","str","toUpperCase","hocOptions","handleRef","_options","_setupEventListeners","mount","update","componentWillUnmount","destroy","on","change","apply","_props2","isEqual","left","right","leftArray","leftPlainObject","leftKeys","rightKeys","keySet","_i","allKeys","l","r","every","_shallowEqual2","paymentRequest","_props3","warn","shape","canMakePayment","show","b","keysA","keysB"],"mappings":"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","file":"component---src-pages-invoice-js-8bf4c5ab0841cbb72aac.js","sourcesContent":["import styled from 'styled-components';\nimport { accent } from '../../constants/theme';\n// Programmatically change the light color if the base website accent\n// changes. \n// Original background colors for button:\n// background-color: #6772e5; //standard\n// background-color: #7795f8; // a bit brighter\n\nexport const Wrapper = styled.div`\n  * {\n    box-sizing: border-box;\n  }\n\n  body,\n  html {\n    background-color: #f6f9fc;\n    font-size: 18px;\n    font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n  }\n\n  h1 {\n    color: #32325d;\n    font-weight: 400;\n    line-height: 50px;\n    font-size: 40px;\n    margin: 20px 0;\n    padding: 0;\n  }\n\n  .Checkout {\n    margin: 0 auto;\n    max-width: 800px;\n    box-sizing: border-box;\n    padding: 0 5px;\n  }\n\n  label {\n    color: #6b7c93;\n    font-weight: 300;\n    letter-spacing: 0.025em;\n  }\n\n  textarea {\n    width: 100%;\n  }\n\n  div {\n    display: inline-block;\n  }\n\n  button {\n    white-space: nowrap;\n    border: 0;\n    outline: 0;\n    display: inline-block;\n    height: 40px;\n    line-height: 40px;\n    padding: 0 14px;\n    box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\n    color: #fff;\n    border-radius: 4px;\n    font-size: 15px;\n    font-weight: 600;\n    text-transform: uppercase;\n    letter-spacing: 0.025em;\n    background-color: ${accent};\n    text-decoration: none;\n    -webkit-transition: all 150ms ease;\n    transition: all 150ms ease;\n    margin-top: 10px;\n  }\n\n  form {\n    margin-bottom: 40px;\n    padding-bottom: 40px;\n    border-bottom: 3px solid #e6ebf1;\n  }\n\n  button:hover {\n    color: #fff;\n    cursor: pointer;\n    background-color: #ff5c5c;\n    transform: translateY(-1px);\n    box-shadow: 0 7px 14px rgba(50, 50, 93, 0.1), 0 3px 6px rgba(0, 0, 0, 0.08);\n  }\n\n  select,\n  textarea,\n  input,\n  .StripeElement {\n    display: block;\n    margin: 10px 0 20px 0;\n    max-width: 500px;\n    padding: 10px 14px;\n    font-size: 1em;\n    font-family: 'Source Code Pro', monospace;\n    box-shadow: rgba(50, 50, 93, 0.14902) 0px 1px 3px,\n      rgba(0, 0, 0, 0.0196078) 0px 1px 0px;\n    border: 0;\n    outline: 0;\n    border-radius: 4px;\n    background: white;\n  }\n\n  input::placeholder {\n    color: #aab7c4;\n  }\n\n  textarea::placeholder {\n    color: #aab7c4;\n  }\n\n  input:focus,\n  .StripeElement--focus {\n    box-shadow: rgba(50, 50, 93, 0.109804) 0px 4px 6px,\n      rgba(0, 0, 0, 0.0784314) 0px 1px 3px;\n    -webkit-transition: all 150ms ease;\n    transition: all 150ms ease;\n  }\n\n  textarea:focus,\n  .StripeElement--focus {\n    box-shadow: rgba(50, 50, 93, 0.109804) 0px 4px 6px,\n      rgba(0, 0, 0, 0.0784314) 0px 1px 3px;\n    -webkit-transition: all 150ms ease;\n    transition: all 150ms ease;\n  }\n\n  select:focus,\n  .StripeElement--focus {\n    box-shadow: rgba(50, 50, 93, 0.109804) 0px 4px 6px,\n      rgba(0, 0, 0, 0.0784314) 0px 1px 3px;\n    -webkit-transition: all 150ms ease;\n    transition: all 150ms ease;\n  }\n\n  .StripeElement.IdealBankElement,\n  .StripeElement.PaymentRequestButton {\n    padding: 0;\n  }\n`;\n","/* eslint-disable */\nimport React, { Component } from 'react';\nimport { Wrapper } from './checkoutForm.css.js';\nimport { CardElement, injectStripe } from 'react-stripe-elements';\n// import { CardElement, injectStripe } from 'gatsby-plugin-stripe';\n\nconst createOptions = (fontSize, padding) => {\n  return {\n    style: {\n      base: {\n        fontSize,\n        color: '#424770',\n        letterSpacing: '0.025em',\n        fontFamily: 'Source Code Pro, monospace',\n        '::placeholder': {\n          color: '#aab7c4',\n        },\n        padding,\n      },\n      invalid: {\n        color: '#9e2146',\n      },\n    },\n  };\n};\n\nclass CheckoutForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      receipt_email: '',\n      date: '',\n      name: '',\n      amount: '',\n      description: '',\n      paymentStatus: '',\n      isLoading: false,\n    };\n    this.card = null;\n    this.submit = this.submit.bind(this);\n  }\n\n  async submit(ev) {\n    const { date, receipt_email, name } = this.state;\n    const description = `${this.state.description} on date: ${date}`;\n    const amount = this.state.amount * 100;\n    let { token } = await this.props.stripe.createToken({ name });\n\n    this.setState({ isLoading: true }, () =>\n      fetch(process.env.BACKEND_URL, {\n        method: 'POST',\n        headers: new Headers({\n          'Content-Type': 'text/plain',\n        }),\n        body: JSON.stringify({\n          token,\n          amount,\n          description,\n          receipt_email,\n        }),\n      })\n        .then(response => {\n          // console.log(JSON.stringify({\n          //   token,\n          //   amount,\n          //   description,\n          //   receipt_email,\n          // }))\n          if (response.ok) {\n            console.log('Success!');\n            this.setState({ paymentStatus: 'Sent!', isLoading: false });\n          } else {\n            console.log('Error!');\n            this.setState({\n              paymentStatus:\n                'Error- please email locksmithing@billy-jack.com for support',\n              isLoading: false,\n            });\n          }\n        })\n        .catch(err => {\n          console.log('Error!');\n          this.setState({\n            paymentStatus:\n              'Error- please email locksmithing@billy-jack.com for support',\n            isLoading: false,\n          });\n        })\n    );\n  }\n\n  handleInput = evt => {\n    // console.log('evt, target', evt.target)\n    const { value, name } = evt.target;\n    this.setState({ [name]: value, paymentStatus: '' });\n  };\n\n  render() {\n    const {\n      receipt_email,\n      date,\n      amount,\n      name,\n      isLoading,\n      paymentStatus,\n      description,\n    } = this.state;\n    const isDisabled = name && amount && date && receipt_email ? false : true;\n\n    if (paymentStatus === 'Sent!' && !isLoading)\n      return (\n        <Wrapper>\n          <h1>Payment Processed!</h1>\n        </Wrapper>\n      );\n    if (\n      paymentStatus ===\n      'Error, please email locksmithing@billy-jack.com for support'\n    )\n      return (\n        <Wrapper>\n          <h1>{paymentStatus}</h1>\n        </Wrapper>\n      );\n\n    return (\n      <Wrapper>\n        <div className=\"checkout\">\n          <div>\n            <input\n              name=\"name\"\n              type=\"text\"\n              placeholder=\"Name\"\n              value={name}\n              onChange={this.handleInput}\n            />\n          </div>\n          <div>\n            <input\n              name=\"receipt_email\"\n              type=\"email\"\n              placeholder=\"Email\"\n              value={receipt_email}\n              onChange={this.handleInput}\n            />\n          </div>\n          <br></br>\n          <textarea\n            name=\"description\"\n            type=\"text\"\n            placeholder=\"Invoice Description (Optional)\"\n            value={description}\n            onChange={this.handleInput}\n          />\n          <div>\n            <input\n              name=\"date\"\n              type=\"text\"\n              placeholder=\"Date: MM/DD/YYYY\"\n              value={date}\n              onChange={this.handleInput}\n            />\n          </div>\n          <div>\n            <input\n              name=\"amount\"\n              type=\"number\"\n              placeholder=\"Amount e.g. $50.00\"\n              value={amount}\n              onChange={this.handleInput}\n            />\n          </div>\n          <br></br>\n          <CardElement {...createOptions(this.props.fontSize)} />\n          <button onClick={this.submit} disabled={isDisabled}>\n            Submit\n          </button>\n        </div>\n      </Wrapper>\n    );\n  }\n}\n\nexport default injectStripe(CheckoutForm);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql } from 'gatsby';\nimport Layout from 'components/layout';\nimport Box from 'components/box';\nimport Head from 'components/head';\n\nconst StripeWrapper = ({ children }) => {\n  const [ stripe, setStripe ] = useState(null)\n\n  useEffect(() => {\n    // for SSR\n    if (typeof window == 'undefined') return\n\n    // for browser\n    if (window.Stripe) {\n      setStripe(window.Stripe(process.env.STRIPE_API))\n    } else {\n      const stripeScript = document.querySelector('#stripe-js')\n      stripeScript.onload = () => {\n        setStripe(window.Stripe(process.env.STRIPE_API))\n      }\n    }\n  }, []) // <-- passing in an empty array since I only want to run this hook once\n\n  return (\n    <StripeProvider stripe={stripe}>\n      {children}\n    </StripeProvider>\n  )\n}\n\n// import { Elements, StripeProvider } from 'gatsby-plugin-stripe';\nimport { Elements, StripeProvider } from 'react-stripe-elements';\n\nimport CheckoutForm from '../components/checkout-form/checkoutForm.js';\n\nconst Invoice = ({ data }) => (\n  <Layout>\n    <Head pageTitle={data.invoiceJson.title} />\n    <Box>\n      <StripeWrapper>\n        <div className=\"example\">\n          <h1>Invoice</h1>\n          <Elements>\n            <CheckoutForm />\n          </Elements>\n        </div>\n      </StripeWrapper>\n    </Box>\n  </Layout>\n);\n\n// const Invoice = ({ data }) => (\n//   <Layout>\n//     <Head pageTitle={data.invoiceJson.title} />\n//     <Box>\n//       <StripeProvider apiKey={process.env.STRIPE_API}>\n//         <div className=\"example\">\n//           <h1>Invoice</h1>\n//           <Elements>\n//             <CheckoutForm />\n//           </Elements>\n//         </div>\n//       </StripeProvider>\n//     </Box>\n//   </Layout>\n// );\n\nInvoice.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\nexport default Invoice;\n\nexport const query = graphql`\n  query InvoiceQuery {\n    invoiceJson {\n      title\n      content {\n        childMarkdownRemark {\n          html\n        }\n      }\n    }\n  }\n`;\n","require(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar runtime = function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n    return generator;\n  }\n\n  exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\"; // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n\n  var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n\n\n  var IteratorPrototype = {};\n\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n  if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\"; // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      prototype[method] = function (arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function (genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n  };\n\n  exports.mark = function (genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  }; // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n\n\n  exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n\n        if (value && typeof value === \"object\" && hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function (value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function (err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function (unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function (error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n      // invocations of the iterator.\n      callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    } // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n\n\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n\n  exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n\n  exports.async = function (innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));\n    return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        } // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n        var record = tryCatch(innerFn, self, context);\n\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted; // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  } // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (!info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n      context.next = delegate.nextLoc; // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    } // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n\n\n    context.delegate = null;\n    return ContinueSentinel;\n  } // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n\n\n  defineIteratorMethods(Gp);\n  Gp[toStringTagSymbol] = \"Generator\"; // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n  Gp[iteratorSymbol] = function () {\n    return this;\n  };\n\n  Gp.toString = function () {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    keys.reverse(); // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      } // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n\n\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n          return next;\n        };\n\n        return next.next = next;\n      }\n    } // Return an iterator with no values.\n\n\n    return {\n      next: doneResult\n    };\n  }\n\n  exports.values = values;\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: true\n    };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      this.prev = 0;\n      this.next = 0; // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n      this.method = \"next\";\n      this.arg = undefined;\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n    stop: function stop() {\n      this.done = true;\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" || record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      } // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  }; // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n\n  return exports;\n}( // If this script is executing as a CommonJS module, use module.exports\n// as the regeneratorRuntime namespace. Otherwise create a new empty\n// object. Either way, the resulting object will be used to initialize\n// the regeneratorRuntime variable at the top of this file.\ntypeof module === \"object\" ? module.exports : {});\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}","'use strict';\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.elementContextTypes = exports.injectContextTypes = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Provider = require('./Provider');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar injectContextTypes = exports.injectContextTypes = {\n  getRegisteredElements: _propTypes2[\"default\"].func.isRequired,\n  elements: _propTypes2[\"default\"].object\n};\nvar elementContextTypes = exports.elementContextTypes = {\n  addElementsLoadListener: _propTypes2[\"default\"].func.isRequired,\n  registerElement: _propTypes2[\"default\"].func.isRequired,\n  unregisterElement: _propTypes2[\"default\"].func.isRequired\n};\n\nvar Elements = function (_React$Component) {\n  _inherits(Elements, _React$Component);\n\n  function Elements(props, context) {\n    _classCallCheck(this, Elements);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    _this._elements = null;\n\n    _this.handleRegisterElement = function (element, impliedTokenType, impliedSourceType, impliedPaymentMethodType) {\n      _this.setState(function (prevState) {\n        return {\n          registeredElements: [].concat(_toConsumableArray(prevState.registeredElements), [_extends({\n            element: element\n          }, impliedTokenType ? {\n            impliedTokenType: impliedTokenType\n          } : {}, impliedSourceType ? {\n            impliedSourceType: impliedSourceType\n          } : {}, impliedPaymentMethodType ? {\n            impliedPaymentMethodType: impliedPaymentMethodType\n          } : {})])\n        };\n      });\n    };\n\n    _this.handleUnregisterElement = function (el) {\n      _this.setState(function (prevState) {\n        return {\n          registeredElements: prevState.registeredElements.filter(function (_ref) {\n            var element = _ref.element;\n            return element !== el;\n          })\n        };\n      });\n    };\n\n    var _this$props = _this.props,\n        children = _this$props.children,\n        options = _objectWithoutProperties(_this$props, ['children']);\n\n    if (_this.context.tag === 'sync') {\n      _this._elements = _this.context.stripe.elements(options);\n    }\n\n    _this.state = {\n      registeredElements: []\n    };\n    return _this;\n  }\n\n  Elements.prototype.getChildContext = function getChildContext() {\n    var _this2 = this;\n\n    return {\n      addElementsLoadListener: function addElementsLoadListener(fn) {\n        // Return the existing elements instance if we already have one.\n        if (_this2.context.tag === 'sync') {\n          // This is impossible, but we need to make flow happy.\n          if (!_this2._elements) {\n            throw new Error('Expected elements to be instantiated but it was not.');\n          }\n\n          fn(_this2._elements);\n        } else {\n          _this2.context.addStripeLoadListener(function (stripe) {\n            if (_this2._elements) {\n              fn(_this2._elements);\n            } else {\n              var _props = _this2.props,\n                  _children = _props.children,\n                  options = _objectWithoutProperties(_props, ['children']);\n\n              _this2._elements = stripe.elements(options);\n              fn(_this2._elements);\n            }\n          });\n        }\n      },\n      registerElement: this.handleRegisterElement,\n      unregisterElement: this.handleUnregisterElement,\n      getRegisteredElements: function getRegisteredElements() {\n        return _this2.state.registeredElements;\n      },\n      elements: this._elements\n    };\n  };\n\n  Elements.prototype.render = function render() {\n    return _react2[\"default\"].Children.only(this.props.children);\n  };\n\n  return Elements;\n}(_react2[\"default\"].Component);\n\nElements.childContextTypes = _extends({}, injectContextTypes, elementContextTypes);\nElements.contextTypes = _Provider.providerContextTypes;\nElements.defaultProps = {\n  children: null\n};\nexports[\"default\"] = Elements;","module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.providerContextTypes = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} // TODO(jez) 'sync' and 'async' are bad tag names.\n// TODO(jez) What if redux also uses this.context.tag?\n\n\nvar providerContextTypes = exports.providerContextTypes = {\n  tag: _propTypes2[\"default\"].string.isRequired,\n  stripe: _propTypes2[\"default\"].object,\n  addStripeLoadListener: _propTypes2[\"default\"].func\n};\n\nvar getOrCreateStripe = function getOrCreateStripe(apiKey, options) {\n  /**\n   * Note that this is not meant to be a generic memoization solution.\n   * This is specifically a solution for `StripeProvider`s being initialized\n   * and destroyed regularly (with the same set of props) when users only\n   * use `StripeProvider` for the subtree that contains their checkout form.\n   */\n  window.Stripe.__cachedInstances = window.Stripe.__cachedInstances || {};\n  var cacheKey = 'key=' + apiKey + ' options=' + JSON.stringify(options);\n  var stripe = window.Stripe.__cachedInstances[cacheKey] || window.Stripe(apiKey, options);\n  window.Stripe.__cachedInstances[cacheKey] = stripe;\n  return stripe;\n};\n\nvar ensureStripeShape = function ensureStripeShape(stripe) {\n  if (stripe && stripe.elements && stripe.createSource && stripe.createToken && stripe.createPaymentMethod && stripe.handleCardPayment) {\n    return stripe;\n  } else {\n    throw new Error(\"Please pass a valid Stripe object to StripeProvider. You can obtain a Stripe object by calling 'Stripe(...)' with your publishable key.\");\n  }\n};\n\nvar Provider = function (_React$Component) {\n  _inherits(Provider, _React$Component); // on the other hand: childContextTypes is *required* to use context.\n\n\n  function Provider(props) {\n    _classCallCheck(this, Provider);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    if (_this.props.apiKey && _this.props.stripe) {\n      throw new Error(\"Please pass either 'apiKey' or 'stripe' to StripeProvider, not both.\");\n    } else if (_this.props.apiKey) {\n      if (!window.Stripe) {\n        throw new Error(\"Please load Stripe.js (https://js.stripe.com/v3/) on this page to use react-stripe-elements. If Stripe.js isn't available yet (it's loading asynchronously, or you're using server-side rendering), see https://github.com/stripe/react-stripe-elements#advanced-integrations\");\n      } else {\n        var _this$props = _this.props,\n            _apiKey = _this$props.apiKey,\n            _children = _this$props.children,\n            _stripe = _this$props.stripe,\n            options = _objectWithoutProperties(_this$props, ['apiKey', 'children', 'stripe']);\n\n        _this._meta = {\n          tag: 'sync',\n          stripe: getOrCreateStripe(_apiKey, options)\n        };\n      }\n    } else if (_this.props.stripe) {\n      // If we already have a stripe instance (in the constructor), we can behave synchronously.\n      _this._meta = {\n        tag: 'sync',\n        stripe: ensureStripeShape(_this.props.stripe)\n      };\n    } else if (_this.props.stripe === null) {\n      _this._meta = {\n        tag: 'async',\n        stripe: null\n      };\n    } else {\n      throw new Error(\"Please pass either 'apiKey' or 'stripe' to StripeProvider. If you're using 'stripe' but don't have a Stripe instance yet, pass 'null' explicitly.\");\n    }\n\n    _this._didWarn = false;\n    _this._didWakeUpListeners = false;\n    _this._listeners = [];\n    return _this;\n  } // Even though we're using flow, also use PropTypes so we can take advantage of developer warnings.\n\n\n  Provider.prototype.getChildContext = function getChildContext() {\n    var _this2 = this; // getChildContext is run after the constructor, so we WILL have access to\n    // the initial state.\n    //\n    // However, context doesn't update in respnse to state changes like you\n    // might expect: context is pulled by the child, not pushed by the parent.\n\n\n    if (this._meta.tag === 'sync') {\n      return {\n        tag: 'sync',\n        stripe: this._meta.stripe\n      };\n    } else {\n      return {\n        tag: 'async',\n        addStripeLoadListener: function addStripeLoadListener(fn) {\n          if (_this2._meta.stripe) {\n            fn(_this2._meta.stripe);\n          } else {\n            _this2._listeners.push(fn);\n          }\n        }\n      };\n    }\n  };\n\n  Provider.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var apiKeyChanged = this.props.apiKey && prevProps.apiKey && this.props.apiKey !== prevProps.apiKey;\n    var stripeInstanceChanged = this.props.stripe && prevProps.stripe && this.props.stripe !== prevProps.stripe;\n\n    if (!this._didWarn && (apiKeyChanged || stripeInstanceChanged) && window.console && window.console.error) {\n      this._didWarn = true; // eslint-disable-next-line no-console\n\n      console.error('StripeProvider does not support changing the apiKey parameter.');\n      return;\n    }\n\n    if (!this._didWakeUpListeners && this.props.stripe) {\n      // Wake up the listeners if we've finally been given a StripeShape\n      this._didWakeUpListeners = true;\n\n      var _stripe2 = ensureStripeShape(this.props.stripe);\n\n      this._meta.stripe = _stripe2;\n\n      this._listeners.forEach(function (fn) {\n        fn(_stripe2);\n      });\n    }\n  };\n\n  Provider.prototype.render = function render() {\n    return _react2[\"default\"].Children.only(this.props.children);\n  };\n\n  return Provider;\n}(_react2[\"default\"].Component);\n\nProvider.propTypes = {\n  apiKey: _propTypes2[\"default\"].string,\n  // PropTypes.object is the only way we can accept a Stripe instance\n  // eslint-disable-next-line react/forbid-prop-types\n  stripe: _propTypes2[\"default\"].object,\n  children: _propTypes2[\"default\"].node\n};\nProvider.childContextTypes = providerContextTypes;\nProvider.defaultProps = {\n  apiKey: undefined,\n  stripe: undefined,\n  children: null\n};\nexports[\"default\"] = Provider;","'use strict';\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IdealBankElement = exports.IbanElement = exports.PaymentRequestButtonElement = exports.CardCVCElement = exports.CardCvcElement = exports.CardExpiryElement = exports.CardNumberElement = exports.CardElement = exports.Elements = exports.injectStripe = exports.StripeProvider = undefined;\n\nvar _Provider = require('./components/Provider');\n\nvar _Provider2 = _interopRequireDefault(_Provider);\n\nvar _inject = require('./components/inject');\n\nvar _inject2 = _interopRequireDefault(_inject);\n\nvar _Elements = require('./components/Elements');\n\nvar _Elements2 = _interopRequireDefault(_Elements);\n\nvar _Element = require('./components/Element');\n\nvar _Element2 = _interopRequireDefault(_Element);\n\nvar _PaymentRequestButtonElement = require('./components/PaymentRequestButtonElement');\n\nvar _PaymentRequestButtonElement2 = _interopRequireDefault(_PaymentRequestButtonElement);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n} // Define Elements, and register their implied token / source types for\n// automatic token / source creation.\n// Card\n\n\nvar CardElement = (0, _Element2[\"default\"])('card', {\n  impliedTokenType: 'card',\n  impliedSourceType: 'card',\n  impliedPaymentMethodType: 'card'\n}); // Split Fields\n// Note: we only register the CardNumberElement for split fields so that we have\n// a unique Element to infer when calling `wrappedCreateToken` or `wrappedCreateSource`.\n\nvar CardNumberElement = (0, _Element2[\"default\"])('cardNumber', {\n  impliedTokenType: 'card',\n  impliedSourceType: 'card',\n  impliedPaymentMethodType: 'card'\n});\nvar CardExpiryElement = (0, _Element2[\"default\"])('cardExpiry');\nvar CardCvcElement = (0, _Element2[\"default\"])('cardCvc');\nvar CardCVCElement = CardCvcElement; // deprecated in favor of CardCvcElement which better matches Elements API\n// IBAN\n\nvar IbanElement = (0, _Element2[\"default\"])('iban', {\n  impliedTokenType: 'bank_account',\n  impliedSourceType: 'sepa_debit'\n}); // iDEAL Bank\n\nvar IdealBankElement = (0, _Element2[\"default\"])('idealBank', {\n  impliedSourceType: 'ideal'\n});\nexports.StripeProvider = _Provider2[\"default\"];\nexports.injectStripe = _inject2[\"default\"];\nexports.Elements = _Elements2[\"default\"];\nexports.CardElement = CardElement;\nexports.CardNumberElement = CardNumberElement;\nexports.CardExpiryElement = CardExpiryElement;\nexports.CardCvcElement = CardCvcElement;\nexports.CardCVCElement = CardCVCElement;\nexports.PaymentRequestButtonElement = _PaymentRequestButtonElement2[\"default\"];\nexports.IbanElement = IbanElement;\nexports.IdealBankElement = IdealBankElement;","'use strict';\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Elements = require('./Elements');\n\nvar _Provider = require('./Provider');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} // react-redux does a bunch of stuff with pure components / checking if it needs to re-render.\n// not sure if we need to do the same.\n\n\nvar inject = function inject(WrappedComponent) {\n  var _class, _temp;\n\n  var componentOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _componentOptions$wit = componentOptions.withRef,\n      withRef = _componentOptions$wit === undefined ? false : _componentOptions$wit;\n  return _temp = _class = function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    function _class(props, context) {\n      _classCallCheck(this, _class);\n\n      if (!context || !context.getRegisteredElements) {\n        throw new Error('It looks like you are trying to inject Stripe context outside of an Elements context.\\nPlease be sure the component that calls createSource or createToken is within an <Elements> component.');\n      }\n\n      var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n      _this.parseElementOrData = function (elementOrOptions) {\n        return elementOrOptions && (typeof elementOrOptions === 'undefined' ? 'undefined' : _typeof(elementOrOptions)) === 'object' && elementOrOptions._frame && _typeof(elementOrOptions._frame) === 'object' && elementOrOptions._frame.id && typeof elementOrOptions._frame.id === 'string' && typeof elementOrOptions._componentName === 'string' ? {\n          type: 'element',\n          element: elementOrOptions\n        } : {\n          type: 'data',\n          data: elementOrOptions\n        };\n      };\n\n      _this.findElement = function (filterBy, specifiedType) {\n        var allElements = _this.context.getRegisteredElements();\n\n        var filteredElements = allElements.filter(function (e) {\n          return e[filterBy];\n        });\n        var matchingElements = specifiedType === 'auto' ? filteredElements : filteredElements.filter(function (e) {\n          return e[filterBy] === specifiedType;\n        });\n\n        if (matchingElements.length === 1) {\n          return matchingElements[0].element;\n        } else if (matchingElements.length > 1) {\n          throw new Error('You did not specify the type of Source, Token, or PaymentMethod to create.\\n        We could not infer which Element you want to use for this operation.');\n        } else {\n          return null;\n        }\n      };\n\n      _this.requireElement = function (filterBy, specifiedType) {\n        var element = _this.findElement(filterBy, specifiedType);\n\n        if (element) {\n          return element;\n        } else {\n          throw new Error('You did not specify the type of Source, Token, or PaymentMethod to create.\\n        We could not infer which Element you want to use for this operation.');\n        }\n      };\n\n      _this.wrappedCreateToken = function (stripe) {\n        return function () {\n          var tokenTypeOrOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n          if (tokenTypeOrOptions && (typeof tokenTypeOrOptions === 'undefined' ? 'undefined' : _typeof(tokenTypeOrOptions)) === 'object') {\n            // First argument is options; infer the Element and tokenize\n            var opts = tokenTypeOrOptions;\n\n            var tokenType = opts.type,\n                rest = _objectWithoutProperties(opts, ['type']);\n\n            var specifiedType = typeof tokenType === 'string' ? tokenType : 'auto'; // Since only options were passed in, a corresponding Element must exist\n            // for the tokenization to succeed -- thus we call requireElement.\n\n            var element = _this.requireElement('impliedTokenType', specifiedType);\n\n            return stripe.createToken(element, rest);\n          } else if (typeof tokenTypeOrOptions === 'string') {\n            // First argument is token type; tokenize with token type and options\n            var _tokenType = tokenTypeOrOptions;\n            return stripe.createToken(_tokenType, options);\n          } else {\n            // If a bad value was passed in for options, throw an error.\n            throw new Error('Invalid options passed to createToken. Expected an object, got ' + (typeof tokenTypeOrOptions === 'undefined' ? 'undefined' : _typeof(tokenTypeOrOptions)) + '.');\n          }\n        };\n      };\n\n      _this.wrappedCreateSource = function (stripe) {\n        return function () {\n          var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n          if (options && (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            if (typeof options.type !== 'string') {\n              throw new Error('Invalid Source type passed to createSource. Expected string, got ' + _typeof(options.type) + '.');\n            }\n\n            var element = _this.findElement('impliedSourceType', options.type);\n\n            if (element) {\n              // If an Element exists for the source type, use that to create the\n              // corresponding source.\n              //\n              // NOTE: this prevents users from independently creating sources of\n              // type `foo` if an Element that can create `foo` sources exists in\n              // the current <Elements /> context.\n              return stripe.createSource(element, options);\n            } else {\n              // If no Element exists for the source type, directly create a source.\n              return stripe.createSource(options);\n            }\n          } else {\n            // If a bad value was passed in for options, throw an error.\n            throw new Error('Invalid options passed to createSource. Expected an object, got ' + (typeof options === 'undefined' ? 'undefined' : _typeof(options)) + '.');\n          }\n        };\n      };\n\n      _this.wrappedCreatePaymentMethod = function (stripe) {\n        return function (paymentMethodType, elementOrData, maybeData) {\n          if (paymentMethodType && (typeof paymentMethodType === 'undefined' ? 'undefined' : _typeof(paymentMethodType)) === 'object') {\n            return stripe.createPaymentMethod(paymentMethodType);\n          }\n\n          if (!paymentMethodType || typeof paymentMethodType !== 'string') {\n            throw new Error('Invalid PaymentMethod type passed to createPaymentMethod. Expected a string, got ' + (typeof paymentMethodType === 'undefined' ? 'undefined' : _typeof(paymentMethodType)) + '.');\n          }\n\n          var elementOrDataResult = _this.parseElementOrData(elementOrData); // Second argument is Element; use passed in Element\n\n\n          if (elementOrDataResult.type === 'element') {\n            var _element = elementOrDataResult.element;\n\n            if (maybeData) {\n              return stripe.createPaymentMethod(paymentMethodType, _element, maybeData);\n            } else {\n              return stripe.createPaymentMethod(paymentMethodType, _element);\n            }\n          } // Second argument is data or undefined; infer the Element\n\n\n          var data = elementOrDataResult.data;\n\n          var element = _this.findElement('impliedPaymentMethodType', paymentMethodType);\n\n          if (element) {\n            return data ? stripe.createPaymentMethod(paymentMethodType, element, data) : stripe.createPaymentMethod(paymentMethodType, element);\n          }\n\n          if (data && (typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n            return stripe.createPaymentMethod(paymentMethodType, data);\n          } else if (!data) {\n            throw new Error('Could not find an Element that can be used to create a PaymentMethod of type: ' + paymentMethodType + '.');\n          } else {\n            // If a bad value was passed in for data, throw an error.\n            throw new Error('Invalid data passed to createPaymentMethod. Expected an object, got ' + (typeof data === 'undefined' ? 'undefined' : _typeof(data)) + '.');\n          }\n        };\n      };\n\n      _this.wrappedHandleCardX = function (stripe, method) {\n        return function (clientSecret, elementOrData, maybeData) {\n          if (!clientSecret || typeof clientSecret !== 'string') {\n            // If a bad value was passed in for clientSecret, throw an error.\n            throw new Error('Invalid PaymentIntent client secret passed to handleCardPayment. Expected string, got ' + (typeof clientSecret === 'undefined' ? 'undefined' : _typeof(clientSecret)) + '.');\n          }\n\n          var elementOrDataResult = _this.parseElementOrData(elementOrData); // Second argument is Element; handle with element\n\n\n          if (elementOrDataResult.type === 'element') {\n            var _element2 = elementOrDataResult.element;\n\n            if (maybeData) {\n              return stripe[method](clientSecret, _element2, maybeData);\n            } else {\n              return stripe[method](clientSecret, _element2);\n            }\n          } // Second argument is data or undefined; see if we can find a mounted Element\n          // that can create card PaymentMethods\n\n\n          var data = elementOrDataResult.data;\n\n          var element = _this.findElement('impliedPaymentMethodType', 'card');\n\n          if (element) {\n            // If an Element exists that can create card PaymentMethods use it. Otherwise\n            // assume that we must be calling with data only.\n            //\n            // NOTE: this prevents users from using handleCard* with an existing\n            // Source or PaymentMethod if an Element that can create card PaymentMethods\n            // exists in the current <Elements /> context.\n            if (data) {\n              return stripe[method](clientSecret, element, data);\n            } else {\n              return stripe[method](clientSecret, element);\n            }\n          } else if (data) {\n            // if no element exists call handleCard* directly (with data)\n            return stripe[method](clientSecret, data);\n          } else {\n            // if no element exists call handleCard* directly (with only the clientSecret)\n            return stripe[method](clientSecret);\n          }\n        };\n      };\n\n      if (_this.context.tag === 'sync') {\n        _this.state = {\n          stripe: _this.stripeProps(_this.context.stripe)\n        };\n      } else {\n        _this.state = {\n          stripe: null\n        };\n      }\n\n      return _this;\n    }\n\n    _class.prototype.componentDidMount = function componentDidMount() {\n      var _this2 = this;\n\n      if (this.context.tag === 'async') {\n        this.context.addStripeLoadListener(function (stripe) {\n          _this2.setState({\n            stripe: _this2.stripeProps(stripe)\n          });\n        });\n      } else {// when 'sync', it's already set in the constructor.\n      }\n    };\n\n    _class.prototype.getWrappedInstance = function getWrappedInstance() {\n      if (!withRef) {\n        throw new Error('To access the wrapped instance, the `{withRef: true}` option must be set when calling `injectStripe()`');\n      }\n\n      return this.wrappedInstance;\n    };\n\n    _class.prototype.stripeProps = function stripeProps(stripe) {\n      return _extends({}, stripe, {\n        // These are the only functions that take elements.\n        createToken: this.wrappedCreateToken(stripe),\n        createSource: this.wrappedCreateSource(stripe),\n        createPaymentMethod: this.wrappedCreatePaymentMethod(stripe),\n        handleCardPayment: this.wrappedHandleCardX(stripe, 'handleCardPayment'),\n        handleCardSetup: this.wrappedHandleCardX(stripe, 'handleCardSetup')\n      });\n    }; // Finds an Element by the specified type, if one exists.\n    // Throws if multiple Elements match.\n    // Require that exactly one Element is found for the specified type.\n    // Throws if no Element is found.\n    // Wraps createToken in order to infer the Element that is being tokenized.\n    // Wraps createSource in order to infer the Element that is being used for\n    // source creation.\n    // Wraps createPaymentMethod in order to infer the Element that is being\n    // used for PaymentMethod creation.\n\n\n    _class.prototype.render = function render() {\n      var _this3 = this;\n\n      return _react2[\"default\"].createElement(WrappedComponent, _extends({}, this.props, {\n        stripe: this.state.stripe,\n        elements: this.context.elements,\n        ref: withRef ? function (c) {\n          _this3.wrappedInstance = c;\n        } : null\n      }));\n    };\n\n    return _class;\n  }(_react2[\"default\"].Component), _class.contextTypes = _extends({}, _Provider.providerContextTypes, _Elements.injectContextTypes), _class.displayName = 'InjectStripe(' + (WrappedComponent.displayName || WrappedComponent.name || 'Component') + ')', _temp;\n};\n\nexports[\"default\"] = inject;","'use strict';\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _isEqual = require('../utils/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _Elements = require('./Elements');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar noop = function noop() {};\n\nvar _extractOptions = function _extractOptions(props) {\n  var id = props.id,\n      className = props.className,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onReady = props.onReady,\n      options = _objectWithoutProperties(props, ['id', 'className', 'onChange', 'onFocus', 'onBlur', 'onReady']);\n\n  return options;\n};\n\nvar capitalized = function capitalized(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\nvar Element = function Element(type) {\n  var _class, _temp;\n\n  var hocOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return _temp = _class = function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    function _class(props, context) {\n      _classCallCheck(this, _class);\n\n      var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n      _this.handleRef = function (ref) {\n        _this._ref = ref;\n      };\n\n      _this._element = null;\n\n      var options = _extractOptions(_this.props); // We keep track of the extracted options on this._options to avoid re-rendering.\n      // (We would unnecessarily re-render if we were tracking them with state.)\n\n\n      _this._options = options;\n      return _this;\n    }\n\n    _class.prototype.componentDidMount = function componentDidMount() {\n      var _this2 = this;\n\n      this.context.addElementsLoadListener(function (elements) {\n        if (!_this2._ref) {\n          return;\n        }\n\n        var element = elements.create(type, _this2._options);\n        _this2._element = element;\n\n        _this2._setupEventListeners(element);\n\n        element.mount(_this2._ref); // Register Element for automatic token / source / paymentMethod creation\n\n        if (hocOptions.impliedTokenType || hocOptions.impliedSourceType || hocOptions.impliedPaymentMethodType) {\n          _this2.context.registerElement(element, hocOptions.impliedTokenType, hocOptions.impliedSourceType, hocOptions.impliedPaymentMethodType);\n        }\n      });\n    };\n\n    _class.prototype.componentDidUpdate = function componentDidUpdate() {\n      var options = _extractOptions(this.props);\n\n      if (Object.keys(options).length !== 0 && !(0, _isEqual2[\"default\"])(options, this._options)) {\n        this._options = options;\n\n        if (this._element) {\n          this._element.update(options);\n        }\n      }\n    };\n\n    _class.prototype.componentWillUnmount = function componentWillUnmount() {\n      if (this._element) {\n        var element = this._element;\n        element.destroy();\n        this.context.unregisterElement(element);\n      }\n    };\n\n    _class.prototype._setupEventListeners = function _setupEventListeners(element) {\n      var _this3 = this;\n\n      element.on('ready', function () {\n        _this3.props.onReady(_this3._element);\n      });\n      element.on('change', function (change) {\n        _this3.props.onChange(change);\n      });\n      element.on('blur', function () {\n        var _props;\n\n        return (_props = _this3.props).onBlur.apply(_props, arguments);\n      });\n      element.on('focus', function () {\n        var _props2;\n\n        return (_props2 = _this3.props).onFocus.apply(_props2, arguments);\n      });\n    };\n\n    _class.prototype.render = function render() {\n      return _react2[\"default\"].createElement('div', {\n        id: this.props.id,\n        className: this.props.className,\n        ref: this.handleRef\n      });\n    };\n\n    return _class;\n  }(_react2[\"default\"].Component), _class.propTypes = {\n    id: _propTypes2[\"default\"].string,\n    className: _propTypes2[\"default\"].string,\n    onChange: _propTypes2[\"default\"].func,\n    onBlur: _propTypes2[\"default\"].func,\n    onFocus: _propTypes2[\"default\"].func,\n    onReady: _propTypes2[\"default\"].func\n  }, _class.defaultProps = {\n    id: undefined,\n    className: undefined,\n    onChange: noop,\n    onBlur: noop,\n    onFocus: noop,\n    onReady: noop\n  }, _class.contextTypes = _Elements.elementContextTypes, _class.displayName = capitalized(type) + 'Element', _temp;\n};\n\nexports[\"default\"] = Element;","'use strict';\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar PLAIN_OBJECT_STR = '[object Object]';\n\nvar isEqual = function isEqual(left, right) {\n  if ((typeof left === 'undefined' ? 'undefined' : _typeof(left)) !== 'object' || (typeof right === 'undefined' ? 'undefined' : _typeof(right)) !== 'object') {\n    return left === right;\n  }\n\n  if (left === null || right === null) return left === right;\n  var leftArray = Array.isArray(left);\n  var rightArray = Array.isArray(right);\n  if (leftArray !== rightArray) return false;\n  var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n  var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n  if (leftPlainObject !== rightPlainObject) return false;\n  if (!leftPlainObject && !leftArray) return false;\n  var leftKeys = Object.keys(left);\n  var rightKeys = Object.keys(right);\n  if (leftKeys.length !== rightKeys.length) return false;\n  var keySet = {};\n\n  for (var i = 0; i < leftKeys.length; i += 1) {\n    keySet[leftKeys[i]] = true;\n  }\n\n  for (var _i = 0; _i < rightKeys.length; _i += 1) {\n    keySet[rightKeys[_i]] = true;\n  }\n\n  var allKeys = Object.keys(keySet);\n\n  if (allKeys.length !== leftKeys.length) {\n    return false;\n  }\n\n  var l = left;\n  var r = right;\n\n  var pred = function pred(key) {\n    return isEqual(l[key], r[key]);\n  };\n\n  return allKeys.every(pred);\n};\n\nexports[\"default\"] = isEqual;","'use strict';\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _shallowEqual = require('../utils/shallowEqual');\n\nvar _shallowEqual2 = _interopRequireDefault(_shallowEqual);\n\nvar _Elements = require('./Elements');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar noop = function noop() {};\n\nvar _extractOptions = function _extractOptions(props) {\n  var id = props.id,\n      className = props.className,\n      onBlur = props.onBlur,\n      onClick = props.onClick,\n      onFocus = props.onFocus,\n      onReady = props.onReady,\n      paymentRequest = props.paymentRequest,\n      options = _objectWithoutProperties(props, ['id', 'className', 'onBlur', 'onClick', 'onFocus', 'onReady', 'paymentRequest']);\n\n  return options;\n};\n\nvar PaymentRequestButtonElement = function (_React$Component) {\n  _inherits(PaymentRequestButtonElement, _React$Component);\n\n  function PaymentRequestButtonElement(props, context) {\n    _classCallCheck(this, PaymentRequestButtonElement);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    _this.handleRef = function (ref) {\n      _this._ref = ref;\n    };\n\n    var options = _extractOptions(props); // We keep track of the extracted options on this._options to avoid re-rendering.\n    // (We would unnecessarily re-render if we were tracking them with state.)\n\n\n    _this._options = options;\n    return _this;\n  }\n\n  PaymentRequestButtonElement.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.context.addElementsLoadListener(function (elements) {\n      _this2._element = elements.create('paymentRequestButton', _extends({\n        paymentRequest: _this2.props.paymentRequest\n      }, _this2._options));\n\n      _this2._element.on('ready', function () {\n        _this2.props.onReady(_this2._element);\n      });\n\n      _this2._element.on('focus', function () {\n        var _props;\n\n        return (_props = _this2.props).onFocus.apply(_props, arguments);\n      });\n\n      _this2._element.on('click', function () {\n        var _props2;\n\n        return (_props2 = _this2.props).onClick.apply(_props2, arguments);\n      });\n\n      _this2._element.on('blur', function () {\n        var _props3;\n\n        return (_props3 = _this2.props).onBlur.apply(_props3, arguments);\n      });\n\n      _this2._element.mount(_this2._ref);\n    });\n  };\n\n  PaymentRequestButtonElement.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.paymentRequest !== prevProps.paymentRequest) {\n      console.warn('Unsupported prop change: paymentRequest is not a customizable property.');\n    }\n\n    var options = _extractOptions(this.props);\n\n    if (Object.keys(options).length !== 0 && !(0, _shallowEqual2[\"default\"])(options, this._options)) {\n      this._options = options;\n\n      this._element.update(options);\n    }\n  };\n\n  PaymentRequestButtonElement.prototype.componentWillUnmount = function componentWillUnmount() {\n    this._element.destroy();\n  };\n\n  PaymentRequestButtonElement.prototype.render = function render() {\n    return _react2[\"default\"].createElement('div', {\n      id: this.props.id,\n      className: this.props.className,\n      ref: this.handleRef\n    });\n  };\n\n  return PaymentRequestButtonElement;\n}(_react2[\"default\"].Component);\n\nPaymentRequestButtonElement.propTypes = {\n  id: _propTypes2[\"default\"].string,\n  className: _propTypes2[\"default\"].string,\n  onBlur: _propTypes2[\"default\"].func,\n  onClick: _propTypes2[\"default\"].func,\n  onFocus: _propTypes2[\"default\"].func,\n  onReady: _propTypes2[\"default\"].func,\n  paymentRequest: _propTypes2[\"default\"].shape({\n    canMakePayment: _propTypes2[\"default\"].func.isRequired,\n    on: _propTypes2[\"default\"].func.isRequired,\n    show: _propTypes2[\"default\"].func.isRequired\n  }).isRequired\n};\nPaymentRequestButtonElement.defaultProps = {\n  id: undefined,\n  className: undefined,\n  onBlur: noop,\n  onClick: noop,\n  onFocus: noop,\n  onReady: noop\n};\nPaymentRequestButtonElement.contextTypes = _Elements.elementContextTypes;\nexports[\"default\"] = PaymentRequestButtonElement;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar shallowEqual = function shallowEqual(a, b) {\n  var keysA = Object.keys(a);\n  var keysB = Object.keys(b);\n  return keysA.length === keysB.length && keysA.every(function (key) {\n    return b.hasOwnProperty(key) && b[key] === a[key];\n  });\n};\n\nexports[\"default\"] = shallowEqual;"],"sourceRoot":""}